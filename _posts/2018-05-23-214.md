---
title: "IO関連動画をいろいろ見る"
date: 2018-05-23 06:55:33
---

バイクがバイク屋に行ってしまったのと雨なのとそろそろ見るかという事で、今回のGoogle IOとかその周辺の動画を見ていく事にする。

---
[What's new in AndroidStudio 3.1](https://youtu.be/nnnW0nehPEA)

これはIOじゃない気もするが、見ておこう。

動画の内容としてはなんて事無いし見なくても良いが、普段使うツールなのでバージョン事情を知っておくのは悪くない。D8は試してみよう。

---
[What's New Android P Developer  Preview 2](https://youtu.be/LBBqTd6uOd4)

Screen readerってなんじゃろ？
そろそろ新規のAPIとかのサンプルコードは全部Kotlinでプレゼンやってよ、という気がする。
Javaのコードは読みたく無いよ。

non sdkのトーストとexceptionはpreviewでやらずに移行バージョン作ってよ…

Vulkanちょっと楽しみね。どんな感じなんじゃろ。

Pは全体的に大した事無いな。しばらく自分はNougatでいいかなぁ。

---
[What's New in Android(IO/18)](https://youtu.be/eMHsnvhcf78)

IOの動画も見ておく。

パッケージネームにバージョン番号入れてたの駄目だったわ、とか今更かよっ！って内容だな。治るのは良い事だが、Support Libraryの素人臭さはいろいろ酷い。

Jet Packアーキテクチャ、といって半分以上がArchitecture Componentなのはなんというか、すぐ新しい名前つけて新しいフリするの辞めてよ…という印象が湧くなぁ。こういうの、その場で新しい風を装うのに良いと思ってるかもしれないが、あとで積み重なると困るんだよなぁ。

バッテリ方向に頑張るのはいいね。このバケットというのがどのくらいの副作用かは使ってみないと良くわからんが。

バックグラウンドでマイク触れないのはどうなんだろうね。自分が使ってるアプリで困る人は居ないかな。

Background text measurmentか。
アイデアは良さそうだが使い物になる感じに仕上がるかね？

linkifyで機械学習使った賢い奴、か。
へー、どんなもんかね。お手並み拝見、って感じ。

cutoutはいまいちありがたみがわからんかった。

slicesは完全にCompound documentです、ありがとうございます、という感じだが、何が新しいのだろう。Searchとインテグレーション出来るだけ、ならダサいな。

NDK r17のプロファイラは試してみたいな。64bitビルドやり直す必要はあるのでそろそろ乗り換え作業かのぅ。

ImgageDecoderは確かに現状は実用的にはかなり面倒なコードをいろいろ書く必要があるが、これでうまく行くかは信じがたい気もするな。
うまく行くなら使うが、結局細かいコードの対応が要るなら乗り換える気も起こらん。
この辺は評価してみないと分からんねぇ。

メディア方面はいろいろ出来る事増えそうね。よしよし。

NN APIは前から見てるので知らん事は無い感じだな。早く普及してくれ、って感じね。

全体的に、今回のIOはこの動画だけ見て、他はフォローアップする必要は大して無さそうだな。
暇なんで見とくが。

---

[Android Jetpack: Manage UI navigation with Navigation Controller](https://youtu.be/8GCXtCjtg40)

Jetpackは名前だけのはったりっぽいが、Navigationは見ておこう。

navigation graphをXMLで定義する！
それがうまく行かなかったからModalStack作ったのに！

第一印象はわかってねーな、という感じだが、どうか？

Fragmentなのか！結局画面の遷移を代表させるのか！
ひでぇ話だなぁ、これ。

ActivityManagerServiceがFragmentを管理出来ないので、アプリ間の連携が挟まるといかにもうまく行かなさそうだが。
AccountManagerとかどうする気なんだ？

ただこの画面遷移図とXMLが一対一対応してるのはさすが大企業ね。
ガラケー時代にこういうのあったらいいねぇ、といいつつ結局作れなかったんだよなぁ。

おぉ、このあとActivityの話があるのか。

NavHost！これじゃあアプリ間の連携の遷移が定義出来ないじゃん！
分かってねーなぁ。これじゃスマホは駄目なんだよ。
これでいいなら誰も最初からActivityなんて作らんがな。

さすがにこれは自分でアプリ作ってる奴が作ったとは思えん。
という事で自分はしばらく近づかないでおこう。

Architecture Componentのチームもいかにも分かってない感じだが、たぶんアプリ側のライブラリとかフレームワークやってる連中は外から来た人たちなんだろうねぇ。

NavControllerというのは、画面遷移では無いが自分もstate machineとして同じようなの作ってるな。
自分はBundleを引数で渡しているが。

なるほど、内部ではバックスタックに積むのか。

お、やはり引数はBundleで渡すのか。そうなるよね。

ここの型チェックはオーバーキルじゃないかねぇ。
そしてXMLで型を指定とかセンスねーなぁ。
こういう所でコード生成するのはビルドプロセスを複雑にしてトラブルを増やすんだがなぁ。

こういう作りだと、Fragment間の依存をハードコードし辛いのだよね。
依存が明確な時にそれをハードコードし辛いフレームワークは駄目だ。

DeepLinkで必要なのはuriの標準とその実装をまずGoogleのアプリが全部提供する事じゃないの！？

intent-filter生成してくれるのはいいね。

全体的に、これじゃ駄目だと思うが、必要な要素は結構含まれているので、ちゃんと使い物になる日はくるかもしれない。

今は使う気がしないが、Google DriveとかGMailとかギャラリーあたりがこれでちゃんと作られたら考えてやろう、という気はする。

Architecture Componentもそうだが、まず自分たちが使えよなぁ。

ただ昔自分たちが作ろうと夢見た物を作るだけの体力はあるので、最終的に出来上がる物と、その帰結は興味あるな。
スマホのUI遷移の問題をGoogleは解決出来るか！？

---
title: kotlinで簡単なテンソル処理がしたい
date: 2019-06-20 11:53:12
---

やりたいのはストロークのノーマライズとか。そういうのを簡単に書きたいが、そのためにAny型をいろいろdynamicに処理するのは嫌だ。型のための多少の冗長性は受け入れよう。

ストロークはshape的には(strokenum, one_stroke_len, 3)で、最後の3はx, y, 0か1のトリプレット。
最後の0か1は、座標がある所は1、無い所は0。

で、ノーマライズはトリプレットの最後が1の所だけのxの最小値をxから引く、とかそういうのが書きたい。

numpy的には、あってるかわからんが、こんな感じ。

```
mask = strok[:, :, 2] == 1
xmax = stroke[mask][0].max()
```

こういう感じの処理を書きたい。
maskはshapeとか調べながらじゃないと期待値がわからんか。

あとで続き書く。
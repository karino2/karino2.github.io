---
title: "多様体の基礎"
date: 2018-07-24 06:24:15
---

ずっと多様体から逃げ続ける人生を送ってきたが、いい加減諦めて向き合おう、と思い、いつか読むと決めていた多様体の基礎を読み始める。

<iframe style="width:120px;height:240px;" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" src="https://rcm-fe.amazon-adsystem.com/e/cm?ref=qf_sp_asin_til&t=karino203-22&m=amazon&o=9&p=8&l=as1&IS1=1&detail=1&asins=4130621033&bc1=ffffff&lt1=_top&fc1=333333&lc1=0066c0&bg1=ffffff&f=ifr"> </iframe>

しばらくはGoodfellow本の合間に読んでく感じで、ゆるゆる読んでいきます。

# 第一章

図が多くて感覚的な説明が多く、本の外見とは大きく違って驚く。
こんな数学の教科書があるのか。素晴らしいな。

### 一章読み終わり

7月22日現在、ようやく一章が読み終わった。

間が空きつつ一ヶ月くらい掛かった。といっても掛けた時間は4日くらいだと思うが。

集合論の使いそうな所だけ集めた復習、という感じか。非常に分かりやすく、簡単に書かれていて素晴らしい。
そして結構忘れている自分…

位相の復習が別途要るかもしれないが、とりあえず進めてみよう。

# 第2章

開幕に多様体の定義がある。おぉ、これは美しい。なるほど。
ずっと謎だった多様体という言葉をついに理解したぞ！

ふんふん、と手を動かさずにただ読んで行った所、p51の同値のあたりで良く分からなくなる。
そんな難しくもないので定義だけ抜き出しておけば分かるかなぁ。

という事で定義を抜き出していく。

### m次元座標近傍と局所座標系（p37 定義6.I）

「位相空間Xの開集合Uから、m次元数空間Rmのある開集合U'への同相写像 $$\phi$$ があるとき、Uと $$\phi$$ の対をm次元局所座標近傍と呼び、$$\phi$$ をU上の局所座標系と言う」

### m次位相多様体（p38 定義6.II）

位相空間Mが、

1. ハウスルドルフ空間である
2. 任意の点pに対し、pを含むm次元座標近傍（U, $$\phi$$ ）が存在する

の二条件を満たす時、Mをm次元位相多様体と言う。

### 座標変換（p39）

m次元位相多様体の2つの座標近傍（U, $$\phi$$ )、（V, $$\psi$$ ）が交わってるとする。

この時、同相写像

![](https://i.imgur.com/Dk3Qtfe.png)

を、（U, $$\phi$$ )から（V, $$\psi$$ ）への座標変換と呼ぶ（p41）。

### アトラス（座標近傍系）

位相空間Mがm次元座標近傍で被覆されている時、その被覆している座標近傍の族を座標近傍系、またはアトラスと言う。（p42）

### $$C^r$$ 級微分可能多様体

位相空間Mが、

1. Mはハウスルドルフ空間
2. 座標近傍系が存在する
3. 被覆に属する、任意の2つの交わっている開集合に対し、この間の座標変換は$$C^r$$級写像

の条件を満たす時、Mをm次元$$C^r$$微分可能多様体という。（p42 定義6.IV）



### $$C^r$$ 級座標近傍系の同値

2つの$$C^r$$ 座標近傍系の和集合が$$C^r$$ 級座標近傍系になってる事。

もともと座標系同士が$$C^r$$ 級の写像で結ばれているのが$$C^r$$ 級多様体の定義だった。

座標系は定義からRmと同相な写像なので、2つの座標近傍系の「間の」変換が$$C^r$$ 級なら、同じ物と考えるのは自然ではあるか。

### $$C^r$$ 級座標近傍（p54）

後まで進んだら分からなくなったのでメモをしておく。

そもそも$$C^r$$ 級とは座標変換の性質なので、単体の座標近傍では定義出来ない。

そこで定義としては、$$C^r$$ 級極大座標近傍系を考えて、それに属する座標近傍を$$C^r$$ 級座標近傍と呼ぶ。

極大座標近傍系を考えるのがミソである。

### 局所座標表示まわりの話

わずらわしいのでうんたら、というくだりがいまいちついていけなかったのでメモを書く。

p60と同様に、x, yとr, thetaの2つの座標系でxyという関数を考える話を考える。

まず直行座標はR2なので局所座標系が分かりにくいが、あえて別のものとして書いてみる。

まずfはMの点からRへの関数。

![](https://i.imgur.com/JMbj29G.jpg)

で、座標変換を考える。p61とUの記号を表す為に、Mの開集合はU0としよう。

![](https://i.imgur.com/1CNnqUG.jpg)

局所座標表示とは何かというと、例えば以下だ。

![](https://i.imgur.com/2v9cg2A.jpg)

ようするに、座標系の中からRへの関数になる訳か。

これをもとにp62の「描かれている」という話を見ると、そんな難しい事は無い気がする。
ただ自分的には元の話もそんな煩わしくは感じないが。
実解析とかでも確率変数のとこで散々やるからねぇ。

## $$C^r$$ 級座標近傍と$$C^r$$ 級微分同相写像

この両者の関係を命題7.6で議論しているが、さっぱり分からない。ここにメモを書いて考えてみる。

### $$C^r$$ 級写像

微分同相が$$C^r$$ 級写像で定義されているので、まずこの定義をメモしておく。

写像ということで、まず2つの$$C^r$$ 級多様体、MとNの間の写像fを考える。

で、MとNにはそれぞれ座標近傍があって、これらの座標近傍を使えば、RmからRnへの写像にできる。これをfの局所座標表示と言う。

以上をまず図にまとめよう。

![](https://i.imgur.com/J1wkQdL.jpg)

**局所座標表示が$$C^s$$ 級の定義**

このfの局所座標表示はRmからRnの写像なので普通に$$C^s$$ 級が定義出来る。
これが$$C^s$$ 級な時、この局所座標表示を$$C^s$$ 級と言う。

**点pにおいて$$C^s$$ 級でる、という定義**

M上の点pにおいて、ある連続写像fが$$C^s$$ 級である、というのはpを含むある$$C^r$$ 級局所座標近傍Uと、f(p)を含む$$C^s$$ 級局所座標近傍Vがあって、

1. Vがf(U)を含み
2. UとVに関するfの局所座標表示が$$C^s$$ 級である事

を言う。

つまりRmからRnへの写像にした時に$$C^s$$ 級になるような座標近傍がある、という事やね。

**$$C^s$$ 級写像の定義**

Mの各点pにおいてfが$$C^s$$ 級である事を、fは$$C^s$$ 級である、と言う。

### 命題7.6 $$C^r$$ 級座標近傍と$$C^s$$ 級微分同相写像の関係

一回目見た時さっぱり意味が分からなかったので、ちゃんとメモを書く。

まずは命題に出てくる要素を図解する。

![](https://i.imgur.com/cMFGWYW.jpg)

ファイはRmへの写像なので、たまたま局所座標近傍になってる、というケースを考える訳だ。

微分同相かどうかを議論するのだから、局所座標表示する必要があるな。

![](https://i.imgur.com/0LRGaZN.jpg)

つまりファイによる局所座標表示すると、ファイはidになる。
これは当然$$C^s$$ 級なので、ファイは$$C^s$$ 級写像だろう。

どこでファイが$$C^r$$ 級というのを使ったかというと局所座標表示の所か。
$$C^s$$ 級写像を定義するには、$$C^r$$ 級座標近傍を使わないといけなかった（p65）。

という事で、これが$$C^r$$ 級座標近傍なら、ファイが$$C^s$$ 級写像なのは良かろう。
微分同相写像の定義は、

1. 全単射
2. fとfのインバースが$$C^s$$ 級写像

で、座標近傍の定義がそもそも同相写像なので1は良い。インバースが$$C^s$$ 級なのもいいだろう。

よし、分かった。

## 二章読み終わった！

$$C^r$$ 級多様体と$$C^r$$ 級写像の定義を理解した。
これは多様体とは何かを知ったという点で、本書を学ぶ一番のモチベーションを達成した、と言えそう。

そもそも多様体を学ぼうと思った直接のきっかけは、WGANを理解する為に参照されていた最適輸送問題の教科書を見たら、後半がリッチ曲率で定式化されていたから、だ。

機械学習で必要になる数学は、このパターンが多い。定式化に使う言葉を知る為に数学が必要、という事だ。逆にその分野で主要だけど難しい定理などを必要とする事は少ない。あくまで言葉が必要なだけ。

最適輸送問題の教科書にはリッチ曲率の必要な範囲の入門は載ってる。
なので、前提知識としては、曲率とかの考え方を知っていれば十分、と思う。

そういう点では、多様体とはどういうものか、というお作法を学んだこの二章は、必要な事のかなりの部分を含んでいる気がする。

また、集合論的に幾何学を見直す、というのは、思ったよりもいろいろと学びがあった。

最近学んでいた関数解析や実解析も、いろいろな事を集合論的に見直す、という話だった。
今回の幾何学も集合論的に考え直すと、凄くいろいろな物が似た形で書ける。
すると実解析の経験が、一部生きたりもする。

また、集合論でいまいち良く分からなかった位相のあたりが、凄く理解が深まった。
これはAmazonのレビューでもあるが、先にこれやっとく方が、むしろ集合論分かりやすい、という気もする。

幾何学と解析という数学の2大分野を集合論の言葉で定式化し直す、というのは、一つ上の世界を知る思いがある。
現代数学の基礎というか。

本当は学部生の頃にここまでやってると良かったのになぁ、とは思うが、4年では数学科以外はちょっと無理だよな。

あと、大学院で物理をやってた頃、局所座標でのいろいろな話とか見る機会があったが、当時はいまいち何の話をしているのが解って無かったが、それが凄く良く分かった。

あぁ、あれはこういう話をしていたのか、という。

別段数学の理解が深まった所で個々の話題の事は結局個別に学ぶ必要があるのだけど、何をやってるか知っておく、というのは、細部にとらわれて迷子になってしまいそうな時には役に立つ事もある。

物理は数学的な定式化が終わって無い事を学ぶ事も必要なのだけど、多様体くらいは知っておいたらもうちょっとゲージ理論とか、ゼミなどで他の人が興味を持って調べていた事などをちゃんと理解出来たのになぁ、と思った。

ただ、さっきも言ったが、タイミング的に学部生ではちょっと間に合わないよなぁ。
古典的な相対論、量子力学、統計力学と、結構やらなきゃいけない事は多いので、その中で集合論や多様体もやる、ってのは学部三年までにはちょっと辛い。
それでは学部四年のゼミには間に合わない。

感覚的には8年くらいはかかる気がする。そう思うとドクターの途中くらいで必要なことの基礎がだいたい揃うのかねぇ。

それはちょっと無理だよな、と思うと、やはり分からないままやっていくのはある程度は必要な気がする。

なんにせよ、多様体の入門は非常に基礎的な所であるがゆえに、広い範囲の見え方が変わる気がする。
学ぶ面白さは大きい分野だなぁ。自分が使うかは良く分からんが。

# 3章、接ベクトル空間

意外と読んでくだけで理解出来て、あまり手を動かす必要が無い。

### 接平面？

で、読んで行くと、図8.7の接平面になる理由がいまいち分からない。
どのへんが接平面なのか？と考えていくと、そもそも接するとはどういう意味か？みたいな所が分からない。

たぶん曲率的な事を考える必要がある気がするが、それはまだ出てきて無いしなぁ。

良く分からないが、現時点ではちゃんとは分からないのかな、と思い先に進む。

### $$C^r$$ 級写像の微分

そして写像の微分のあたりで良く分からなくなる。

まず曲線の速度ベクトル、というのは、p88の定義8.3で定義されているものだ。
方向微分の事なので、fのpに対して、何かの実数値を割り当てる物だ。

ちょっと分かりにくいのは、dc/dtという表示にはfが無い。
ただ実際はfに対して実数を割り当てる関数だ。

fとcの合成の速度ベクトルというのは、このcが合成写像になっただけで、やはり何かの関数gと点qに対して実数値を割り当てる物なのだろう。

ここでgが表に出てこないので分かりにくい。一見似てるfはcの仲間であって全く違う。

それを踏まえると命題9.1もまぁまぁ分かるな。

まずxiのtによる微分というのは、cの局所座標表示した結果を微分しているので、これはcに依存している。
だからこのviはcに依存した物だ。

で、yは同様にfcに依存した物なので、wjはfcに依存した物となる。

式9.7はviからwjへの変換式で、その中身はfnとxmに依存している。
fnはfのyによる局所座標表示。

間の変換は、fをyで局所座標表示した物をxで微分している。
fはxの世界Mとyの世界Nの間の写像だ。

9.7式がどこから出てきたのか、もう一度見直しておこう。

まずfcをyで局所座標表示する。（図9.1を見ながら）

fcは、例えばt=0ならc(0)はpなので、f(p)という点qとなる。

で、このqをyで局所座標表示する訳だ。

fcはtでパラメトライズされたN上の点の軌跡で、これをyの局所座標表示しあものが、fn。

fcの速度ベクトルを求めとfnをtで微分した物とynでの偏微分の項になり、fnをtで微分した物はさらにfjの中がc(t)をfで写した物なので、cに関わるtによる微分と、fjをxiで微分した物に分かれる。

言葉にするとややこしいが理解はした気がする。

最後に9.7を眺め直すと、fjのjの部分はyの局所座標、下のxiはxの局所座標だ。

で、vはdc/dtをxで表した時に出てくる物で、wはd(fc)/dtをyで表した時に出てくるものだ。

この間の関係を、yがfをxで表した時のxの点の射影な事から、この関係を微分するとなんか間の行列が出てくる。

このうち、cの形（tに依存してる形）に依存してるのはvとwだけで、間のヤコビアンはcには関係してない量になってる。

ややこしいが気分は分かった。

### 写像の微分

定義9.2の写像の微分が全然分からん。

1. まず、元の多様体のpの接ベクトル空間の元vを選ぶ。
2. すると、このvと速度ベクトルが一致する曲線c(t)が取れる。
3. このc(t)とfを使って、多様体N上の接ベクトルwが得られる。
4. これらはc(t)を経由しているが、c(t)の形に依らない。

これは分かる。で、以上から、fを決めると、vをwに写す写像が自然に決まるのも分かる。

これがfの微分、というのが唐突過ぎてついていけない。

まず接ベクトルというのは、引数に関数を取って実数値に対応させる物だよな。
この関数をgとかにしておこう。

で、M上で座標pを決めると、なんかそうした微分っぽい物の一つ、vが選べる。

で、これをfでNに写すと、Nの世界での微分っぽい何かが得られる（wと呼ぶ）。

うーむ、これをf の微分と呼ぶのか。たぶん微分になってるんだろうが、全然分からん。

ただ、多様体上の写像fを与えると接ベクトル同士の写像が得られるのは良いし、これをdfと呼ぶのも理解した。

これがなんで微分なのかはおいといて先に進もう。

追記: p99の注1で、微分って呼ぶのは奇妙に感じるかもしれないが、線形写像が9.8のようにヤコビアンで書けるからだ、と書いてある。いまいち分からんが、ここが奇妙に感じるのは普通の事っぽいな。

### 速度ベクトルが分かりにくい

速度ベクトルの定義はp88の8.3だ。
一応書いておくか。

c を適当な実数の開区間からMへの写像とする。これはCr級曲線とする（定義はp70の例4か）。

曲線cのt=0における速度ベクトルとは、

![](https://i.imgur.com/zeeDIhu.jpg)

の事。

これが、p102の例2だと、まるでfという関数は関係なくc の接線みたく描かれている。

本来はこのcを引数に取るfがあって、それを時間微分した時の結果な訳だよな。
それはfの構造に依った実数値だと思うのだが、この図9.5ではそうは見えない。
でもこの書き方はたびたびされているので、ちゃんと理解してるとそう見えるのだろう。

図9.5の左側を見るとtにそった微分がこういう形で書かれている。

そう考えると右側はcにそった方向微分をこう書いている、という事か。
それは確かに式9.17でもなってそう。

方向微分を方向で考えるのか。
確かに前のp101の例1では、このvこそがまさに方向微分の方向を表していた事を見た。

そうか、微分の方向を図示しているのか。なんか分かった気がする。

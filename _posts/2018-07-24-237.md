---
title: "多様体の基礎"
date: 2018-07-24 06:24:15
---

ずっと多様体から逃げ続ける人生を送ってきたが、いい加減諦めて向き合おう、と思い、いつか読むと決めていた多様体の基礎を読み始める。

<iframe style="width:120px;height:240px;" marginwidth="0" marginheight="0" scrolling="no" frameborder="0" src="https://rcm-fe.amazon-adsystem.com/e/cm?ref=qf_sp_asin_til&t=karino203-22&m=amazon&o=9&p=8&l=as1&IS1=1&detail=1&asins=4130621033&bc1=ffffff&lt1=_top&fc1=333333&lc1=0066c0&bg1=ffffff&f=ifr"> </iframe>

しばらくはGoodfellow本の合間に読んでく感じで、ゆるゆる読んでいきます。

# 第一章

図が多くて感覚的な説明が多く、本の外見とは大きく違って驚く。
こんな数学の教科書があるのか。素晴らしいな。

### 一章読み終わり

7月22日現在、ようやく一章が読み終わった。

間が空きつつ一ヶ月くらい掛かった。といっても掛けた時間は4日くらいだと思うが。

集合論の使いそうな所だけ集めた復習、という感じか。非常に分かりやすく、簡単に書かれていて素晴らしい。
そして結構忘れている自分…

位相の復習が別途要るかもしれないが、とりあえず進めてみよう。

# 第2章

開幕に多様体の定義がある。おぉ、これは美しい。なるほど。
ずっと謎だった多様体という言葉をついに理解したぞ！

ふんふん、と手を動かさずにただ読んで行った所、p51の同値のあたりで良く分からなくなる。
そんな難しくもないので定義だけ抜き出しておけば分かるかなぁ。

という事で定義を抜き出していく。

### m次元座標近傍と局所座標系（p37 定義6.I）

「位相空間Xの開集合Uから、m次元数空間Rmのある開集合U'への同相写像 $$\phi$$ があるとき、Uと $$\phi$$ の対をm次元局所座標近傍と呼び、$$\phi$$ をU上の局所座標系と言う」

### m次位相多様体（p38 定義6.II）

位相空間Mが、

1. ハウスルドルフ空間である
2. 任意の点pに対し、pを含むm次元座標近傍（U, $$\phi$$ ）が存在する

の二条件を満たす時、Mをm次元位相多様体と言う。

### 座標変換（p39）

m次元位相多様体の2つの座標近傍（U, $$\phi$$ )、（V, $$\psi$$ ）が交わってるとする。

この時、同相写像

![](https://i.imgur.com/Dk3Qtfe.png)

を、（U, $$\phi$$ )から（V, $$\psi$$ ）への座標変換と呼ぶ（p41）。

### アトラス（座標近傍系）

位相空間Mがm次元座標近傍で被覆されている時、その被覆している座標近傍の族を座標近傍系、またはアトラスと言う。（p42）

### $$C^r$$ 級微分可能多様体

位相空間Mが、

1. Mはハウスルドルフ空間
2. 座標近傍系が存在する
3. 被覆に属する、任意の2つの交わっている開集合に対し、この間の座標変換は$$C^r$$級写像

の条件を満たす時、Mをm次元$$C^r$$微分可能多様体という。（p42 定義6.IV）



### $$C^r$$ 級座標近傍系の同値

2つの$$C^r$$ 座標近傍系の和集合が$$C^r$$ 級座標近傍系になってる事。

もともと座標系同士が$$C^r$$ 級の写像で結ばれているのが$$C^r$$ 級多様体の定義だった。

座標系は定義からRmと同相な写像なので、2つの座標近傍系の「間の」変換が$$C^r$$ 級なら、同じ物と考えるのは自然ではあるか。

### $$C^r$$ 級座標近傍（p54）

後まで進んだら分からなくなったのでメモをしておく。

そもそも$$C^r$$ 級とは座標変換の性質なので、単体の座標近傍では定義出来ない。

そこで定義としては、$$C^r$$ 級極大座標近傍系を考えて、それに属する座標近傍を$$C^r$$ 級座標近傍と呼ぶ。

極大座標近傍系を考えるのがミソである。

### 局所座標表示まわりの話

わずらわしいのでうんたら、というくだりがいまいちついていけなかったのでメモを書く。

p60と同様に、x, yとr, thetaの2つの座標系でxyという関数を考える話を考える。

まず直行座標はR2なので局所座標系が分かりにくいが、あえて別のものとして書いてみる。

まずfはMの点からRへの関数。

![](https://i.imgur.com/JMbj29G.jpg)

で、座標変換を考える。p61とUの記号を表す為に、Mの開集合はU0としよう。

![](https://i.imgur.com/1CNnqUG.jpg)

局所座標表示とは何かというと、例えば以下だ。

![](https://i.imgur.com/2v9cg2A.jpg)

ようするに、座標系の中からRへの関数になる訳か。

これをもとにp62の「描かれている」という話を見ると、そんな難しい事は無い気がする。
ただ自分的には元の話もそんな煩わしくは感じないが。
実解析とかでも確率変数のとこで散々やるからねぇ。

## $$C^r$$ 級座標近傍と$$C^r$$ 級微分同相写像

この両者の関係を命題7.6で議論しているが、さっぱり分からない。ここにメモを書いて考えてみる。

### $$C^r$$ 級写像

微分同相が$$C^r$$ 級写像で定義されているので、まずこの定義をメモしておく。

写像ということで、まず2つの$$C^r$$ 級多様体、MとNの間の写像fを考える。

で、MとNにはそれぞれ座標近傍があって、これらの座標近傍を使えば、RmからRnへの写像にできる。これをfの局所座標表示と言う。

以上をまず図にまとめよう。

![](https://i.imgur.com/J1wkQdL.jpg)

**局所座標表示が$$C^s$$ 級の定義**

このfの局所座標表示はRmからRnの写像なので普通に$$C^s$$ 級が定義出来る。
これが$$C^s$$ 級な時、この局所座標表示を$$C^s$$ 級と言う。

**点pにおいて$$C^s$$ 級でる、という定義**

M上の点pにおいて、ある連続写像fが$$C^s$$ 級である、というのはpを含むある$$C^r$$ 級局所座標近傍Uと、f(p)を含む$$C^s$$ 級局所座標近傍Vがあって、

1. Vがf(U)を含み
2. UとVに関するfの局所座標表示が$$C^s$$ 級である事

を言う。

つまりRmからRnへの写像にした時に$$C^s$$ 級になるような座標近傍がある、という事やね。

**$$C^s$$ 級写像の定義**

Mの各点pにおいてfが$$C^s$$ 級である事を、fは$$C^s$$ 級である、と言う。

### 命題7.6 $$C^r$$ 級座標近傍と$$C^s$$ 級微分同相写像の関係

一回目見た時さっぱり意味が分からなかったので、ちゃんとメモを書く。

まずは命題に出てくる要素を図解する。

![](https://i.imgur.com/cMFGWYW.jpg)

ファイはRmへの写像なので、たまたま局所座標近傍になってる、というケースを考える訳だ。

微分同相かどうかを議論するのだから、局所座標表示する必要があるな。

![](https://i.imgur.com/0LRGaZN.jpg)

つまりファイによる局所座標表示すると、ファイはidになる。
これは当然$$C^s$$ 級なので、ファイは$$C^s$$ 級写像だろう。

どこでファイが$$C^r$$ 級というのを使ったかというと局所座標表示の所か。
$$C^s$$ 級写像を定義するには、$$C^r$$ 級座標近傍を使わないといけなかった（p65）。

という事で、これが$$C^r$$ 級座標近傍なら、ファイが$$C^s$$ 級写像なのは良かろう。
微分同相写像の定義は、

1. 全単射
2. fとfのインバースが$$C^s$$ 級写像

で、座標近傍の定義がそもそも同相写像なので1は良い。インバースが$$C^s$$ 級なのもいいだろう。

よし、分かった。

## 二章読み終わった！

$$C^r$$ 級多様体と$$C^r$$ 級写像の定義を理解した。
これは多様体とは何かを知ったという点で、本書を学ぶ一番のモチベーションを達成した、と言えそう。

そもそも多様体を学ぼうと思った直接のきっかけは、WGANを理解する為に参照されていた最適輸送問題の教科書を見たら、後半がリッチ曲率で定式化されていたから、だ。

機械学習で必要になる数学は、このパターンが多い。定式化に使う言葉を知る為に数学が必要、という事だ。逆にその分野で主要だけど難しい定理などを必要とする事は少ない。あくまで言葉が必要なだけ。

最適輸送問題の教科書にはリッチ曲率の必要な範囲の入門は載ってる。
なので、前提知識としては、曲率とかの考え方を知っていれば十分、と思う。

そういう点では、多様体とはどういうものか、というお作法を学んだこの二章は、必要な事のかなりの部分を含んでいる気がする。

また、集合論的に幾何学を見直す、というのは、思ったよりもいろいろと学びがあった。

最近学んでいた関数解析や実解析も、いろいろな事を集合論的に見直す、という話だった。
今回の幾何学も集合論的に考え直すと、凄くいろいろな物が似た形で書ける。
すると実解析の経験が、一部生きたりもする。

また、集合論でいまいち良く分からなかった位相のあたりが、凄く理解が深まった。
これはAmazonのレビューでもあるが、先にこれやっとく方が、むしろ集合論分かりやすい、という気もする。

幾何学と解析という数学の2大分野を集合論の言葉で定式化し直す、というのは、一つ上の世界を知る思いがある。
現代数学の基礎というか。

本当は学部生の頃にここまでやってると良かったのになぁ、とは思うが、4年では数学科以外はちょっと無理だよな。

あと、大学院で物理をやってた頃、局所座標でのいろいろな話とか見る機会があったが、当時はいまいち何の話をしているのが解って無かったが、それが凄く良く分かった。

あぁ、あれはこういう話をしていたのか、という。

別段数学の理解が深まった所で個々の話題の事は結局個別に学ぶ必要があるのだけど、何をやってるか知っておく、というのは、細部にとらわれて迷子になってしまいそうな時には役に立つ事もある。

物理は数学的な定式化が終わって無い事を学ぶ事も必要なのだけど、多様体くらいは知っておいたらもうちょっとゲージ理論とか、ゼミなどで他の人が興味を持って調べていた事などをちゃんと理解出来たのになぁ、と思った。

ただ、さっきも言ったが、タイミング的に学部生ではちょっと間に合わないよなぁ。
古典的な相対論、量子力学、統計力学と、結構やらなきゃいけない事は多いので、その中で集合論や多様体もやる、ってのは学部三年までにはちょっと辛い。
それでは学部四年のゼミには間に合わない。

感覚的には8年くらいはかかる気がする。そう思うとドクターの途中くらいで必要なことの基礎がだいたい揃うのかねぇ。

それはちょっと無理だよな、と思うと、やはり分からないままやっていくのはある程度は必要な気がする。

なんにせよ、多様体の入門は非常に基礎的な所であるがゆえに、広い範囲の見え方が変わる気がする。
学ぶ面白さは大きい分野だなぁ。自分が使うかは良く分からんが。

# 3章、接ベクトル空間

意外と読んでくだけで理解出来て、あまり手を動かす必要が無い。

### 接平面？

で、読んで行くと、図8.7の接平面になる理由がいまいち分からない。
どのへんが接平面なのか？と考えていくと、そもそも接するとはどういう意味か？みたいな所が分からない。

たぶん曲率的な事を考える必要がある気がするが、それはまだ出てきて無いしなぁ。

良く分からないが、現時点ではちゃんとは分からないのかな、と思い先に進む。

### $$C^r$$ 級写像の微分

そして写像の微分のあたりで良く分からなくなる。

まず曲線の速度ベクトル、というのは、p88の定義8.3で定義されているものだ。
方向微分の事なので、fのpに対して、何かの実数値を割り当てる物だ。

ちょっと分かりにくいのは、dc/dtという表示にはfが無い。
ただ実際はfに対して実数を割り当てる関数だ。

fとcの合成の速度ベクトルというのは、このcが合成写像になっただけで、やはり何かの関数gと点qに対して実数値を割り当てる物なのだろう。

ここでgが表に出てこないので分かりにくい。一見似てるfはcの仲間であって全く違う。

それを踏まえると命題9.1もまぁまぁ分かるな。

まずxiのtによる微分というのは、cの局所座標表示した結果を微分しているので、これはcに依存している。
だからこのviはcに依存した物だ。

で、yは同様にfcに依存した物なので、wjはfcに依存した物となる。

式9.7はviからwjへの変換式で、その中身はfnとxmに依存している。
fnはfのyによる局所座標表示。

間の変換は、fをyで局所座標表示した物をxで微分している。
fはxの世界Mとyの世界Nの間の写像だ。

9.7式がどこから出てきたのか、もう一度見直しておこう。

まずfcをyで局所座標表示する。（図9.1を見ながら）

fcは、例えばt=0ならc(0)はpなので、f(p)という点qとなる。

で、このqをyで局所座標表示する訳だ。

fcはtでパラメトライズされたN上の点の軌跡で、これをyの局所座標表示しあものが、fn。

fcの速度ベクトルを求めとfnをtで微分した物とynでの偏微分の項になり、fnをtで微分した物はさらにfjの中がc(t)をfで写した物なので、cに関わるtによる微分と、fjをxiで微分した物に分かれる。

言葉にするとややこしいが理解はした気がする。

最後に9.7を眺め直すと、fjのjの部分はyの局所座標、下のxiはxの局所座標だ。

で、vはdc/dtをxで表した時に出てくる物で、wはd(fc)/dtをyで表した時に出てくるものだ。

この間の関係を、yがfをxで表した時のxの点の射影な事から、この関係を微分するとなんか間の行列が出てくる。

このうち、cの形（tに依存してる形）に依存してるのはvとwだけで、間のヤコビアンはcには関係してない量になってる。

ややこしいが気分は分かった。

### 写像の微分

定義9.2の写像の微分が全然分からん。

1. まず、元の多様体のpの接ベクトル空間の元vを選ぶ。
2. すると、このvと速度ベクトルが一致する曲線c(t)が取れる。
3. このc(t)とfを使って、多様体N上の接ベクトルwが得られる。
4. これらはc(t)を経由しているが、c(t)の形に依らない。

これは分かる。で、以上から、fを決めると、vをwに写す写像が自然に決まるのも分かる。

これがfの微分、というのが唐突過ぎてついていけない。

まず接ベクトルというのは、引数に関数を取って実数値に対応させる物だよな。
この関数をgとかにしておこう。

で、M上で座標pを決めると、なんかそうした微分っぽい物の一つ、vが選べる。

で、これをfでNに写すと、Nの世界での微分っぽい何かが得られる（wと呼ぶ）。

うーむ、これをf の微分と呼ぶのか。たぶん微分になってるんだろうが、全然分からん。

ただ、多様体上の写像fを与えると接ベクトル同士の写像が得られるのは良いし、これをdfと呼ぶのも理解した。

これがなんで微分なのかはおいといて先に進もう。

追記: p99の注1で、微分って呼ぶのは奇妙に感じるかもしれないが、線形写像が9.8のようにヤコビアンで書けるからだ、と書いてある。いまいち分からんが、ここが奇妙に感じるのは普通の事っぽいな。

### 速度ベクトルが分かりにくい

速度ベクトルの定義はp88の8.3だ。
一応書いておくか。

c を適当な実数の開区間からMへの写像とする。これはCr級曲線とする（定義はp70の例4か）。

曲線cのt=0における速度ベクトルとは、

![](https://i.imgur.com/zeeDIhu.jpg)

の事。

これが、p102の例2だと、まるでfという関数は関係なくc の接線みたく描かれている。

本来はこのcを引数に取るfがあって、それを時間微分した時の結果な訳だよな。
それはfの構造に依った実数値だと思うのだが、この図9.5ではそうは見えない。
でもこの書き方はたびたびされているので、ちゃんと理解してるとそう見えるのだろう。

図9.5の左側を見るとtにそった微分がこういう形で書かれている。

そう考えると右側はcにそった方向微分をこう書いている、という事か。
それは確かに式9.17でもなってそう。

方向微分を方向で考えるのか。
確かに前のp101の例1では、このvこそがまさに方向微分の方向を表していた事を見た。

そうか、微分の方向を図示しているのか。なんか分かった気がする。

### 写像の微分の分かりにくさ

先程も書いた話と同じだが、やっぱり写像の微分がしっくり来ない。
少し言語化してみる。
以下は自分が納得する為の話なので、他人の理解の助けになったり、後の自分が理解する為の物では無い。

p97に写像の微分がある。
その後の説明を読んでいくと、なんかしっくり来ない。

まずcの速度ベクトルが感覚に合ってない。
dc/dtと言ったら、普通はcをtで微分した物をイメージする気がする。tをちょっと変化させた時にc がどれだけ変化するか、という。

でも、実際はこれはfに対する演算子なんだよな。cにそって移動した時に、tをちょっと変化させるとfがどう変化するか、というのを表す。

dc/dtがtをちょっと変化させた時にcがどれだけ変化するかを表したもの「では無い」というのが、しっくり来ない理由の一つ目に思う。

この微分の対象、ここでは多用体間の写像と区別がつくようにgとしておこう。
このgは、気分的にはスカラー場だよな。ポテンシャルみたいな。

で、dc/dtは、cに沿った微分を求める演算子だ。
これはやっぱりこれまでのdc/dtとは意味が違う気がする。

で、このdc/dtは接ベクトル空間の単なるベクトルになる。
このベクトルは局所座標を取ればいつでもその偏微分を基底とする、線形結合の形で表せる。

だから演算子でありながら接ベクトル空間では単なるベクトルになる。

これを踏まえてfの微分を考える。
fの微分はある接ベクトルvからwへの写像である。

fはpからqへの写像である。

で、vは点pで、何かの方向に微分する時の方向微分演算子だ。

で、この方向はfで移動する事が出来る。
このfで写した方向の微分演算子がwだ。

![](https://i.imgur.com/ns9G28j.jpg)

vとかwを方向微分の微分演算子と思い、その方向の言うのはcの「速度」で決まる訳だ。

cの速度こそがvであるが、このvは基底がRmじゃなくて、各座標による偏微分演算子な所が違う。

逆に言うと基底以外は完全に速度だ。

見方を変えて、gをスカラー場とする。
で、局所的な座標を導入し、その各座標による偏微分を求めた結果を考える。これは、もとがRmだったとするとRmの座標となる。
この値は何を意味するか？

これは点pでのgの勾配だよな。点pでの、gの曲面の坂の向きと急さを表している訳だ。

で、c(t)に沿った微分というのは、c(t)に沿った方向の傾きをc(t)単位で求めてる訳だ。これは勾配の線形和で表せる、という事が合成関数の微分で示せる。

この線形和のweightとは何か？

勾配の各軸をどのくらい重視するか、という事だよな。
それは方向微分という事を表す気がする。

古典的な方向は座標を決めないと定義出来ないが、座標系に依らないベクトル量があれば、それは方向の概念を拡張した物と言えるんじゃないか、という事だな。

少し分かってきた。vというのは、スカラー場の勾配をウェイトをかけて足し合わせる時のウェイトだ。
それは特定の向きの勾配を知りたい、という時の向きを表す。

v自体はウェイトを座標とみると方向を表すのだけど、その基底はもとになってるRmでは無くて、各座標の偏微分の微分演算子になっている。
で、このvは座標には依存しない。

v自身が方向微分を表す方向微分演算子になっている。
つまり接ベクトル空間の元は全て、そのベクトルの方向の微分を表す方向微分演算子になっている。

vを座標表示する事を考える。
適当な座標系を取れば適当な偏微分演算子を正規直交基底に取る事に相当し、その係数が座標表示として得られる。
そうか、この時点ではcは要らないのか。

fによる写像を考える。
fはpの側で定義されているので、vには直接は適用出来ない。
そこでpの側に降りていく方法が必要になる。

その為に方向微分を再現するような、その方向に移動する曲線を考える。この曲線上に単位時間動かした時の、スカラー場の変化量が、まさにvとなるような曲線を考える事が出来る。
これは古典的な意味のdc/dtがvの座標表示に一致するようなcだろう。

で、このcが得られたら、fによってこの方向微分の方向を写す事が出来る。
写った先での方向微分がwとなる訳だ。

ただ、gはどこ行った？という感じはあるよな。別にgは対応関係がある保証は無い。
むしろ任意のgに対して成り立つ何かを動かして、任意のg'について成り立たせれば良い、という感じか。

おし、なんか分かった気がする。
vは方向微分を表す微分演算子だ。

で、fで写像した結果を求めるには、

1. 方向微分を再現するような曲線c(t)を考えて、
2. c(t)をfで写像し
3. そのうつった曲線の速度から再現される方向微分演算子wを像と考える

という事をすれば良い。

## 逆関数定理と陰関数定理がごつい

セクション10が突然難しい。

逆関数定理の証明が長くて、最初は拒絶反応も出たが、なんとか一通り読みはする。
基本的なあらすじをちゃんと押さえられた気はしないが、最初はこんなもんだろう。

で、次の陰関数定理は証明以前に定理の内容が理解出来ない。
ちょっと時間を置くか。

### 陰関数定理

一晩おいて、もう一度気合入れて定理を読む。

前提としては、fはCr級写像で像がyと同じ次元。

さらにfを縦方向に制限した関数のヤコビアンが正則なら、

1. x方向をWの範囲で動かしても、それを埋め合わせるようなyを探す事が出来る（ようなWが存在する）
2. 埋め合わせる為のyを探す関数ファイのヤコビアンはfをx軸に制約した関数のヤコビアンとy軸に制約した関数のヤコビアンてiiのように書ける

という事か。

お、証明は意外と簡単だな。

F(x, y) = (x, f(x, y))

という関数を作って逆関数定理を適用するだけか。
おお、美しい。

証明よりも、定理自体の意味が分かりにくいな。
y方向に制約した時に正則という事は、感じとしては、制約した関数の逆関数が存在する、という事だよな。

一方で別段何も言ってないように見えるx側の事が分かってしまう。
x側がどこから出てくるかというと、fがCr級写像、という事だよな。

気分的には、xをちょっと動かしても、そのxを埋め合わせるyが見つけられる訳だよな。

それはfがCr級写像なので、気分的にはfがそんなに変化しないようなWの範囲を見つけられる事が出来て、y側に正則なのでその範囲くらいは埋め合わせが出来る、という事か。

なかなか難しいが、気分は理解出来た（気がする）。

### 定理10.3 微分が上への写像ならf自身は適当な座標系の射影になる

また連続でゴツい定理が。
本質的にはそんな難しく無さそうなので、重要な所だけをメモすれば分かりそう？やってみよう。

dfは上への写像なので、その次元の差のKerが存在する。
そこでこのKerとそれ以外の直和に分解して基底を取る。

するとこの座標系ではfのヤコビアンは10.44の形で表せる。

そこで新たにRmからRmへの写像ファイを作る。
このファイは、後ろnはfの座標表示になるようにし、前のm-n次元はdfのカーネルの基底とする。

このファイが局所座標になっていれば、定理は証明された事になる。というのは、多様体の点pをfで写した物は、元の座標系には依存しないでf1, f2, ..., fnになるからだ。

このファイが座標系になってる為には、適当な開集合の元でCr級微分同相写像になってれば十分かな？

それはファイのヤコビアンが正則なので逆関数定理から、そついう開集合が存在する事が言えて、このファイは座標近傍になってる。

なるほど。

## 3章読み終わり

射影の所は分量は多いが具体的なのでわかりやすい。メビウスの輪がどうこう、は結果だけ眺めておく。

これで無事3章が終わった！
逆関数定理の所は挫折しかかったが、根性で頑張った！

あとは6章の微分形式さえ理解すれば言葉としては最低限は押さえられたかな、という気もする。

4章の埋め込みはパラパラ見た所一番大変な定理っぽいが、一方で機械学習屋的には要るか良く分からないので、無理して理解しなくてもいいかな、という気はしている。

最悪ここから曲面と曲線の微分幾何に移っても良いくらいまでは来た気がする。
意外と頑張れるじゃないか、自分。

# 4章 はめ込みと埋め込み

埋め込み定理はページ数が多く大変そうなので、結果だけを把握して先に進めないかなぁ、という気がする。

### 埋め込み定理の証明

気合を入れて読んでみたら、コンパクトならそんなに難しくなかった。
位相の復習が多くてページ数が多いが、

1. 開集合の真ん中あたりが1になっててまわりが0に近づくようなCr級関数が作れて、それで被覆できる
2. コンパクトならその中から有限個の開集合が選べる
3. それらの局所座標表示と1の関数の合成写像を開集合の数だけ並べた写像が埋め込みになっている

というあらすじっぽい。
ちゃんと示せるほどは理解してないが、必要になったら細部も追える程度は理解出来た気がする。

### 1の分割

コンパクトな場合の証明は理解した。
シグマコンパクトの場合は勘弁しておいてやろう（何が？）

一回くらいシグマコンパクトの上で成り立つ物の証明を理解しておかないと、いつもコンパクトの上でしか証明出来ないのだろうし、だからこそここに証明があるのだろうけれど…

### 第4章、読み終わった！

一見ゴツそうなので適当に飛ばそうと思っていたが、意外と集合論とか線形代数とか測度論とかの前提条件の話が多くて、本題は見た目ほどゴツくは無かった。

読むだけでも結構ちゃんと消化出来た気がする。

一方であんまこの辺の内容は詳しくなくても困ら無さそうな気もする。
機械学習でこの辺を使う時には軽く説明してから使うだろうし、その時に証明を頑張って読めば理解出来る気もする。

ただこの辺の話題自体が接ベクトルや多様体自体の練習にはなってるので、読んでおく事自体は意味はある気がした。

次はベクトル場でその次は微分形式。
ベクトル場は昔古典的にはそれなりにやったので、それを多様体の言葉で見直す、という感じだろう。
もう忘れているとは言え、そんな大変では無いと期待してる。

すると最後の微分形式でこの本は終わる。
微分形式は次の微分幾何の話をするために重要な所なので割とモチベーション高い。

という事で、ここまでくれば最後まで乗り切れるんじゃないかな、と心も軽くなってきた（笑）

# 第五章 ベクトル場

サクサク読んでいこう。

### ベクトル場のベクトルは何故接ベクトルなのか？

しばらく読んでみたが、なかなか知ってるベクトル解析の世界と自分の中でつながらない。

各座標に対応したベクトル量がある、という事を考える時に、何故それを局所座標の微分を基底にした世界のベクトルとみなすのだろうか？

ベクトルの基底は局所座標から得られる物である必要があるのかしら？そしてその時、この意味はどういう意味なのだろう？

幾何学的な意味を考えると、方向微分がそのベクトルとなるような曲線が存在する、という事だよな。

それは気分的にはベクトルがなめらかで連続、という事かなぁ。
それは妥当な仮定に思う。

### 命題 16.5メモ

登場する物が多くて何が何だか良く分からなくなるので、メモを書く。

![](https://i.imgur.com/mkntozG.jpg)

さて、下つきのアスタリスクは、M上のベクトル場をN上のベクトル場に写す。

![](https://i.imgur.com/v7OssSz.jpg)

上つきのアスタリスクは、右の関数fを左に写す。

![](https://i.imgur.com/GA48I8E.jpg)

さて、これらを元に式16.34を見ると、左辺はfを上付きで左に戻してXを作用する。

右辺は、Xを下付きで右に写してfに作用させる。それを上付きで左に戻す。

感覚f的には、左に戻した左の世界のベクトル場と、Xを右に写した右の世界でのベクトル場が同じ、と言ってるんだろう。

これを見ながらなら16.34の証明はだいたい追えるな。

### 第5章、読み終わり

結局全然知ってるベクトル解析の話に合流しなかった(^_^;)

ただ定理の主張は感覚的に納得しやすいものが多くて、証明も感覚的に追いやすいので、見た目よりも楽に読める。
その分全然記憶には留まらなかったが。

この辺を読むと、多様体を真面目に学ぶとgradを定義するのも一苦労なので、物理とかで実際の問題にするような例までたどり着くのは長い道のりだなぁ、と思った。

例えば学部で学ぶようなレベルの量子力学とかを、その数学的解釈をちゃんと理解しようとすると普通に先端の研究みたいなレベルになってしまうのを思い出した。

何をやってるかを正確に理解するにはちゃんと数学をやる方がいいが、ちゃんと数学をやってると学部レベルの事もいつまでも終わらない。（人類がまだ分かってない事もある！）

だからいつも数学を全部きっちりやるのが正しい進め方、という訳では無い。

一方である程度進むと自分が何をやってるのか分からなくなるのは良くある。
自分も今思えば学生の頃、自分が何をやってるのか理解してなくて、そのせいでいろいろ詰まってた部分がある。

そういう時にちゃんとした数学的定式化を理解しておくと、厳密にはtoy problemしか解けなくても、自分が何をやってるかを理解出来て、詰まってる部分を乗り越えられる事はある。
だから数学的定式化が完全に趣味で役に立たない、という事も無く、逆にむしろ、知らない時に思ってるよりは役に立つ事の方が多い気もする。

この辺のバランスは難しいな。
それは機械学習にも言えることだろう。
そうであれば、物理上がりの研究者の方がその辺のバランス感覚は優れているかもなぁ。
自分もバランス感覚を養っていく必要はあるのだろう。

# 6章微分形式

双対空間なんて忘れたよ…とりあえず頑張って読んで見る。

### 18.15あたりが良く分からない

p264 の18.15式が良く分からない。

fというのはMからRへの写像と思っていたら、f(w(X))というのが出てくる（wはオメガの事。tex めんどいのでwで）

でもw(X)は定義によりRへの写像だ。
引数の型が違くない？

と読み進めると、18.16でも同じような記述がある。

どういう事かなぁ。f(w(X))をf(p)w(X)の誤植と思えばすべて解決だし、後の意味も通るんだが、二回も誤植、というのも信じがたい。ググっても何も言ってない。

うーん。

あ、分かった。w(X)はpの点での値じゃなくて、pを引数とする関数か。

こういうのは、例えば18.11とかでも出ていたな。

これを踏まえると、fのあとのカッコは関数適用を表すカッコじゃなくて、単純に順番を明示するだけのカッコで、これらはMからRへの関数、つまり最後にpを引数に取るんだな。

18.17の最初の式でそれを理解した。

### 全微分の座標表示

p264の例2で、全微分の座標表示を計算したら18.18という微積の教科書の形になる、という話。これはちょっと感動的だな。
なるほど、分かったぜ！という気になる。

一方で、最初から18.18の形でもだいたい困らない、という気もする。
Rmじゃない多様体を扱わないと有り難みが無いよねぇ。

### 一次微分形式の引き戻し

定義18.8（p268）のあたりで定義がいろいろ出てきて良く分からなくなってきたので、いろいろまとめる。

まずファイとかfとかオメガを書いておく。

![](https://i.imgur.com/yBNBI9e.jpg)

dファイとオメガを、接ベクトルを元に書く。

![](https://i.imgur.com/jKojfgJ.jpg)

XとYはそれぞれpとqの接ベクトルとする。

オメガとdファイを合成するとXからRへの写像となってるので、Xの世界の一次形式となっている。

これが引き戻し、つまり上付きアスタリスクの定義。

### k次微分形式の基底（定理19.1）

式だけ見てると良く分からないので、二次元で具体的に書き下してみる。

定理の基底は、以下だって言ってるのかな。

![](https://i.imgur.com/beYtNKB.jpg)

で、19.4でVの基底に対して計算してみる、と言っている。
何か具体例を試してみよう。

![](https://i.imgur.com/fOqiUiY.jpg)

ふむ。試しにもうちょっと複雑なベクトルを写してみよう。

![](https://i.imgur.com/N3UT1Pu.jpg)

なるほど、射影みたくなるのか。

なぜこのオメガの直積が一次独立になるのか？10.4式の記述を考えてみよう。

何か添字が異なる2つのオメガについて、一次独立な事を確認してみよう。例えばw1,w1とw2, w1の2つについて考える。

![](https://i.imgur.com/78Is9nD.jpg)

ふむ、オメガの任意の基底候補について、それだけを1にしてそれ以外を0にするようなVが選べるので、全ての係数はゼロが導けそうだな。

19.5式の右辺は、オメガの各eiへの射影の大きさの積になってるな。
それらは基底候補の線形和で表せそうだ。

### 外微分の実際の計算

m=3でやってみろ、とp291に書いてあったのでやってみる。

![](https://i.imgur.com/yVW7dfa.jpg)

オメガが二次形式の場合にやってみたかったが、ごつくなりすぎるので断念。
まぁなんとなく手が思い出したので、微積ではこの計算やった気がするな。

### ストークスの定理は軽く眺める程度に

古典的な場合を若かりし頃にそれなりに使った定理なので、使う時が来たらちゃんと証明読めば良いでしょう、と思ったので、証明のあらすじだけ見て終わらす事にする。

積分まわりもそんなに真面目に読んでない。
1の分割は測度論でいう基本関数っぽいので、ちゃんとこの辺まとめて記述出来るんだろうな、と思うと、いまいちこの形式を追う気も起こらないので。

### 6章読み終わり！

最後の章なので頑張って読んだ！

昔微分形式とか外微分とかどこかでやったがいまいち良く分かってなかった。
でも微分を接ベクトルの写像と思うと何をやってるか厳密に理解出来るようになった気がする。
全微分も解析で出てきたが、いまいちなんなのか分かってなかったが、多様体の微分から考えるとわかりやすい。

という事で、6章はざっと読んだだけの割にはまぁまぁ理解出来た気がする。

次に読む予定の微分幾何の本、曲線と曲面の微分幾何を読むのに十分な程度は理解したと思う。
この微分幾何の本は多様体を前提としてないっぽいので知らなくてもたぶん読めるけど、多様体での微分幾何の基礎的な所を理解した上で読めばつながりもわかりやすいだろう、と期待して。

もともと6章はベクトル解析とか微分幾何との関連を述べる章という色合いが強いので、この程度の理解で十分だろう、と思っている。

全部ちゃんと理解してるかは怪しいが、接ベクトルの間の変換とかは慣れればそういう物だと理解出来るし、そうやって全微分などをちゃんと消化してあればまぁ合格点だろう。

# 本書を読み終わって

最後まで読み終わった。途中いろいろ挟まったので期間自体は5/28から読み始めて今日は8/3だから2ヶ月ちょっとかかってる。

ただ本格的に読み始めたのは7/22に一章が読み終わった、と言ってるので7/20前後だろう。すると二週間ちょっとくらいという所だと思う。
この本を二週間で読んだとかAmazonのレビューで見て「読めるかっ！」とか思ったが、むしろ忘れない内に一気に読む為には、「そのくらいで読みきらないと逆にきつい」という気もする。

### 学部生の頃の事をいろいろ思い出した

そもそも多様体、学部の三年頃「やんなきゃな〜」と思いながら放置してた分野だ。

で、当時そう思ったのにもそれなりに理由はあって、当時ゼミや輪講などで聞いてた話で良く分からなかった事には、結構多様体由来の事が多かった（関数解析由来の物もちょくちょくあった）。

ストークスの定理とかはいかにも電磁気だし、ベクトル解析自体は学部一年でそれなりにみんなやるもんだと思う。
そういう訳で物理科の学部一年とか二年と親和性が高い話が多い。

学部の頃同じ研究室だった人で、この辺の話を良くしてた人が居たのだが、今ならちゃんと理解出来そうなのでもう一度聞いてみたいな、という気がする。
まだ研究者続けてれば遥かに理解出来ない事やってるはずだが。

そんな訳で測度論よりも前から「やんなきゃなー」と思ってた歴史は長い多様体だが、幾何学はやはり機械学習では重要度は落ちる。
だからやってみた印象としても「まぁだいたい知らなくてもあんまり問題にならないだろうな」とは思った。

ただ「あんまり」というのはゼロでは無い。
ちょっとその辺の事は軽く書いてみたい。

## 多様体の基礎を学ぶ意義

幾何学を学ぶ意義というのは幾つかあるように思う。

まず機械学習の最適化の部分で幾何的な考察が役に立つケース。
これは少ないとは言えゼロでは無い。
そしてそういう事をやりたいなら、当然多様体は前提知識となる。
ただこれは幾何学ガチ勢なので学ぶ意義とか私が言うまでも無かろう。

どちらかというと、専門以外の人が他人のその辺の専門の話をなんとなく理解するのに必要、という方が現実的に思う。
おそらく多様体の基礎と微分幾何の基礎くらいまで押さえてたら、あとは専門の人はわかるように説明してくれるだろう。
分からないにしても何をやれば分かるのかの参照くらいは教えてくれる。

この、自分に分からない範囲を理解する、という目的には、多様体の基礎を押さえておくくらいはちょうど良い気がする。

### 集合論の上の数学の全体像を知る

数学の全部の分野を知るなんていうのは非現実的だが、それでも良く使う範囲では大きく大分類としては

1. 解析
2. 幾何学

に分けられると思う。
学部一年では解析入門と線形代数みたいな名前がついている物の延長。

解析に関してはDeep Learningではかなり高度な事まで求められる事があるので、入門を越えて結構専門的なところまで踏み込む事になるだろう。

この過程でいろいろな事を集合論的に扱う事になるので、解析は集合論で捉え直す十分な訓練を積む事になる。

ここにさらに幾何学の基礎を集合論で捉え直す訓練をしておくと、数学のかなり広い分野を集合論で見直した事になる。

解析と幾何の両方の基礎を集合論で捉え直しておけば、何かもっと高度や新しい事が必要になった時も、集合論の一つ上くらいまでは知ってる事が多い。
そうするとその分野がどういうことをやっててどれくらい大変で、どのくらい有用かをなんとなく知る事が出来る。

これは自分の今後の専門性とか考える時に結構重要な視点じゃないか。
だいたいこういう感じなんだろうな、と分かった上で切り捨てるのと、全然分からないけどなんか切り捨てるのでは、そこを切り捨てる被害のギャンブル度合いが大分違う気がする。

また、解析を集合論の1つ目の応用とすると、2つ目の応用、というメリットもある。
2つやると、類似性と違う所が分かって、3つ目以降もわかりやすくなると思うし、集合論自体もどこが重要なのかを判断出来るようになる気がする。

2つあるって大切だよね。
多様体は2つ目の具体例として手頃な気がする。
結構解析と違うし、図とのつながりで感覚的にもイメージしやすいし。

### 長い宿題を終えたような感動

初めて測度論をやった時も思ったが、長いこと「やんなきゃなー」と思ってた事を実際にやると気分が良い。
なんか晴れやかで、自信もつく。

この本をやる事自体は自分にはそう楽では無かったし、むしろかなり辛かったが、それでも気合入れれば一ヶ月も経たずに終わるのだ。
それくらいだったらやればいいじゃないか、という気になった。

多様体をやった一番の意義は、このなんだかわかんない何か、というのを、自分の中で片付けたスッキリ感な気がする。

## この本の感想

Amazonなどに大量のレビューがついてるのでそれを踏まえて。

まず記述が冗長でかえってわかりにくい、というのは、簡単に飛ばせるのでそうでもないな、と思った。

感覚的な記述がかえって分かりにくい、という場所は何箇所かあった（座標の引き戻しとか）。
ただ、そういう人は自分で厳密に計算してみたらいいと思う。
そういう人が詰まるような場所は無かったと思う。

単射とか全射という言葉は使ってほしかったけど、それくらいかな。 

線形代数などの復習的な内容の分量はかなり多いと思うが、飛ばせば良いと思った。その辺飛ばすのは比較的容易だったので、自分的にはマイナス点じゃない。

全体的に、その手の意見はただドヤりたいだけで言うほどでも無いじゃん、というのが自分の印象。

噂にたがわず非常に詳しく進めるので、ついていけない事はほとんど無かったし、行間を埋める苦労もほとんど無かった。
これは数学の教科書としては賛否両論あるだろうな、と思う。

この辺で行間を埋める訓練をする方が今後の為とは思うが、一方でこれが最終目標の人だって居るだろうし、
またこういう本を読んだ上で行間を埋める必要のある本に進む方がスムーズに進む人も居るだろう。
人によって適切な階段の1段1段の大きさは違う。

また、自分には皆が言う程簡単では無かった。
行間を埋める必要が無くても、定義が高階に積み重なっていけば辛い。
なんと言おうとこれは純粋な数学のちゃんとした教科書だ。

有り難みが少なすぎる、という意見も多いが、少なくとも機械学習屋が基礎的な言葉やお作法を学ぶには十分過ぎる内容だった。
この位が役に立つ人は結構居ると思う。
数学科の人が幾何学を専門にしていこうと思うなら全然足りないだろうが、そういう人も別に一冊目に読むには悪くないと思った。あまり金の無い学生がなけなしの貯金をはたいて買ったら、金額の分の価値が無い、と思う人は居るかもしれないが。
少なくとも社会人なら価格以上の価値はあるだろう。

こんなにゆっくり進む数学の教科書はこれまで見た事無い。そういう点で凄く特別な本だと思う。
分かりにくい所などにちゃんと注釈や解説があって、はまらないように凄く気をつけて書かれている。
数学の教科書はみんなこういう風に書いてくれたらなぁ、と思うが、これ書くのは大変そうなので難しいか。

自分のこれまでの数学の教科書の常識を覆す素晴らしい本で、感銘を受けた。
ついでにそのおかげてなんとか乗り切る事にも成功した。松本先生、ありがとう！
